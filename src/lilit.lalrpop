use std::str::FromStr;
use ast::Node;

grammar;

pub Mod: Box<Node> = {
  <f:Func> <m:Mod> => Box::new(Node::Mod(f, Some(m))),
  Func => Box::new(Node::Mod(<>, None)),
};

Func: Box<Node> = {
  "def" <Id> "(" ")" <Expr> "end" => Box::new(Node::Func(<>)),
};

Expr: Box<Node> = {
  <Num> => Box::new(Node::Num(<>)),
};

Id: Box<String> = {
  r"[a-z]+" => Box::new(String::from(<>)),
};

Num: i32 = {
  r"[0-9]+" => i32::from_str(<>).unwrap(),
};
